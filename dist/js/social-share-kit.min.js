/*!
 * Social Share Kit v1.0.15 (http://socialsharekit.com)
 * Copyright 2015 Social Share Kit / Kaspars Sprogis.
 * @Licensed under Creative Commons Attribution-NonCommercial 3.0 license:
 * https://github.com/darklow/social-share-kit/blob/master/LICENSE
 * ---
 */
var SocialShareKit=function(){var t,n,r=/(twitter|facebook|google-plus|pinterest|tumblr|vk|linkedin|buffer|email)/;function o(e){return document.querySelectorAll(e)}function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function s(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.call(e)})}function u(e){return e.className.match(r)}function d(e,t,n,r){return(r=r||m(e,t,n)).url||window.location.href}function p(e,t){var n,r=o("meta["+(t||(0===e.indexOf("og:")?"property":"name"))+'="'+e+'"]');return r.length&&(n=r[0].getAttribute("content")||""),n||""}function m(e,t,n){var r,o,i,a,c=["url","title","text","image","position","target"],s={},u=n.parentNode;for(a in"twitter"==t&&c.push("via"),c)i="data-"+(o=c[a]),void 0!==(r=n.getAttribute(i)||u.getAttribute(i)||(e[t]&&void 0!==e[t][o]?e[t][o]:e[o]))&&(s[o]=r);return s}function l(e,t){var n=document.createElement("div");n.innerHTML=t,n.className="ssk-num",e.appendChild(n)}function h(e,t,n,r){var o,i,a,c,s,u,l=encodeURIComponent(t);switch(e){case"facebook":o="https://graph.facebook.com/?id="+l,i=function(e){return r(e.share?e.share.share_count:0)};break;case"twitter":n&&n.twitter&&n.twitter.countCallback&&n.twitter.countCallback(t,r);break;case"google-plus":return a=o="https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",c=i=function(e){if((e=JSON.parse(e)).length)return r(e[0].result.metadata.globalCounts.count)},s='[{"method":"pos.plusones.get","id":"p","params":{"id":"'+t+'","userId":"@viewer","groupId":"@self","nolog":true},"jsonrpc":"2.0","key":"p","apiVersion":"v1"}]',(u=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&200<=this.status&&this.status<400&&c(this.responseText)},u.open("POST",a,!0),u.setRequestHeader("Content-Type","application/json"),void u.send(s);case"linkedin":o="https://www.linkedin.com/countserv/count/share?url="+l,i=function(e){return r(e.count)};break;case"pinterest":o="https://api.pinterest.com/v1/urls/count.json?url="+l,i=function(e){return r(e.count)};break;case"vk":o="https://vk.com/share.php?act=count&url="+l,i=function(e){return r(e)};break;case"buffer":o="https://api.bufferapp.com/1/links/shares.json?url="+l,i=function(e){return r(e.shares)}}o&&i&&function(e,t,n){var r="cb_"+e+"_"+Math.round(1e5*Math.random()),o=document.createElement("script");window[r]=function(e){try{delete window[r]}catch(e){}document.body.removeChild(o),n(e)},"vk"==e?window.VK={Share:{count:function(e,t){window[r](t)}}}:"google-plus"==e&&(window.services={gplus:{cb:window[r]}});o.src=t+(0<=t.indexOf("?")?"&":"?")+"callback="+r,document.body.appendChild(o)}(e,o,i)}return(n=function(e){var t=e||{},n=t.selector||".ssk";this.nodes=o(n),this.selects=o(n+"-select"),this.options=t}).prototype={share:function(){var e=this.nodes,f=this.options,a={},n=this.selects,t=function(){e.length&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),i(e,function(e){var t,n=u(e);if(n){if(e.getAttribute("data-ssk-ready")){if(!f.reinitialize||!e._skkListener)return;o="click",i=(r=e)._skkListener,r.removeEventListener?r.removeEventListener(o,i):r.detachEvent("on"+o,i)}var r,o,i;e.setAttribute("data-ssk-ready",!0),s(e,"click",c),e._skkListener=c,-1!==e.parentNode.className.indexOf("ssk-count")&&((t=(n=n[0])+"*|*"+d(f,n,e))in a||(a[t]=[]),a[t].push(e))}}),function(){var e,t;for(e in a)t=e.split("*|*"),function(n){h(t[0],t[1],f,function(e){for(var t in n)l(n[t],e)})}(a[e])}())};function c(e){var t,n=function(e){var t=e||window.event;t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0);return t.currentTarget||t.srcElement}(e),r=u(n),o=r[0];if(r&&(t=function(e,t,n){var r,o=m(e,t,n),i=d(e,t,n,o),a=void 0!==o.title?o.title:function(e){var t;"twitter"==e&&(t=p("twitter:title"));return t||document.title}(t),c=void 0!==o.text?o.text:function(e){var t;"twitter"==e&&(t=p("twitter:description"));return t||p("description")}(t),s=o.image?o.image:p("og:image"),u=void 0!==o.via?o.via:p("twitter:site"),l={shareUrl:i,title:a,text:c,image:s,via:u,options:e,shareUrlEncoded:function(){return encodeURIComponent(this.shareUrl)}};switch(t){case"facebook":r="https://www.facebook.com/share.php?u="+l.shareUrlEncoded();break;case"twitter":r="https://twitter.com/intent/tweet?url="+l.shareUrlEncoded()+"&text="+encodeURIComponent(a+(c&&a?" - ":"")+c),u&&(r+="&via="+u.replace("@",""));break;case"google-plus":r="https://plus.google.com/share?url="+l.shareUrlEncoded();break;case"pinterest":r="https://pinterest.com/pin/create/button/?url="+l.shareUrlEncoded()+"&description="+encodeURIComponent(c),s&&(r+="&media="+encodeURIComponent(s));break;case"tumblr":r="https://www.tumblr.com/share/link?url="+l.shareUrlEncoded()+"&name="+encodeURIComponent(a)+"&description="+encodeURIComponent(c);break;case"linkedin":r="https://www.linkedin.com/shareArticle?mini=true&url="+l.shareUrlEncoded()+"&title="+encodeURIComponent(a)+"&summary="+encodeURIComponent(c);break;case"vk":r="https://vkontakte.ru/share.php?url="+l.shareUrlEncoded();break;case"buffer":r="https://buffer.com/add?source=button&url="+l.shareUrlEncoded()+"&text="+encodeURIComponent(c);break;case"email":r="mailto:?subject="+encodeURIComponent(a)+"&body="+encodeURIComponent(a+"\n"+i+"\n\n"+c+"\n")}l.networkUrl=r,e.onBeforeOpen&&e.onBeforeOpen(n,t,l);return l.networkUrl}(f,o,n)))if(window.twttr&&-1!==n.getAttribute("href").indexOf("twitter.com/intent/"))n.setAttribute("href",t);else if("email"!==o){var i,a;"buffer"===o?(i=800,a=680):(i=575,a=400);var c=function(e,t,n){var r,o,i,a;t&&n?(o=document.documentElement.clientWidth/2-t/2,i=(document.documentElement.clientHeight-n)/2,a="status=1,resizable=yes,width="+t+",height="+n+",top="+i+",left="+o,r=window.open(e,"",a)):r=window.open(e);return r.focus(),r}(t,i,a);if(f.onOpen&&f.onOpen(n,o,t,c),f.onClose)var s=window.setInterval(function(){!1!==c.closed&&(window.clearInterval(s),f.onClose(n,o,t,c))},250)}else document.location=t}return!0===f.forceInit?t():function(e,t){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()});s(document,"mouseup",t)}(t,function(l){if(window.getSelection){var e=window.getSelection();if(e&&e.getRangeAt&&e.rangeCount){var d=e.toString(),t=e.getRangeAt(0);if(t.getClientRects){var p=Array.prototype.slice.call(t.getClientRects()),h=p.length;i(n,function(e){var t,n,r=(t=void 0)!==(n=m(f,t,e)).target?n.target:"*";if(""!==d&&l.target.matches(r)){e.setAttribute("data-text",d),e.style.display="block";var o,i,a,c,s=e.getBoundingClientRect();switch((a=void 0)!==(c=m(f,a,e)).position&&function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(["center","left","right"],c.position)?c.position:"center"){case"center":var u=Math.min.apply(Math,p.map(function(e){return e.top}));i=p.map(function(e){return e.left+e.width/2}).reduce(function(e,t){return t+e})/h-s.width/2,o=u-s.height+window.pageYOffset;break;case"left":o=(u=Math.min.apply(Math,p.map(function(e){return e.top})))-s.height+window.pageYOffset,i=Math.min.apply(Math,p.map(function(e){return e.left}));break;case"right":o=(u=Math.min.apply(Math,p.map(function(e){return e.top})))-s.height+window.pageYOffset,i=Math.max.apply(Math,p.map(function(e){return e.right}))-s.width}e.style.top=o+"px",e.style.left=i+"px"}else e.style.display="none"})}}}}),this.nodes}},t=function(e){return new n(e)},{init:function(e){return t(e).share()}}}();window.SocialShareKit=SocialShareKit;
